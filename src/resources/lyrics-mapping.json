{
   "settings":{
      "analysis":{
         "analyzer":{
            "guests_analyzer":{
               "tokenizer":"guests_tokenizer",
               "char_filter":[
                 "my_char_filter"
               ],
               "filter": ["lowercase", "asciifolding", "trim"]
            }
         },
         "tokenizer":{
            "guests_tokenizer":{
               "type":"pattern",
               "pattern":",|&"
            }
         },
         "char_filter":{
            "my_char_filter":{
               "type":"pattern_replace",
               "pattern":"\\(|\\)|feat\\.",
               "replacement":""
            }
         }
      }
   },
   "mappings":{
      "properties":{
         "album":{
            "type":"keyword"
         },
         "lyrics":{
            "type":"text"
         },
         "artist":{
            "type":"text"
         },
         "guests":{
            "type":"text",
            "analyzer":"guests_analyzer"
         },
         "title": {
           "type": "text"
         }
      }
   }
}